<div class="modal-header">
  <h4 class="modal-title">Nouvelles permissions</h4>
  <fa-icon class="clickable" [icon]="closeIcon" (click)="activeModal.dismiss()" size="2x"></fa-icon>
</div>
<div class="modal-body">
  <form [formGroup]="permsForm" (ngSubmit)="submit()" novalidate>
    <div class="form-group">
      <label for="user">Utilisateur</label>
      <input id="user"
             type="text"
             class="form-control"
             formControlName="username"
             [ngbTypeahead]="suggest"
             (keydown)="this.selectedUser = null"
             (selectItem)="selectUser($event)"
             [inputFormatter]="format"
             [resultFormatter]="format">
    </div>

    <div class="form-check">
      <input id="read" class="form-check-input" type="checkbox" formControlName="canRead">
      <label for="read" class="form-check-label">Lecture</label>
    </div>

    <div class="form-check">
      <input id="update" class="form-check-input" type="checkbox" formControlName="canUpdate">
      <label for="update" class="form-check-label">Modification</label>
    </div>

    <div class="form-check">
      <input id="delete" class="form-check-input" type="checkbox" formControlName="canDelete">
      <label for="delete" class="form-check-label">Suppression</label>
    </div>

    <div class="form-check">
      <input id="updatePermissions" class="form-check-input" type="checkbox" formControlName="canUpdatePermissions">
      <label for="updatePermissions" class="form-check-label">Modification des permissions</label>
    </div>

    <div class="text-right">
      <button type="submit"
              class="btn btn-primary"
              [disabled]="permsForm.invalid || !selectedUser"
              [ngClass]="{'cursor-forbidden': permsForm.invalid || !selectedUser}">
        <span> Ajouter</span>
      </button>
    </div>
  </form>
</div>
