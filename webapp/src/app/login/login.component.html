<div class="container mt-5">
  <h1 class="text-center mb-5">Ivana</h1>

  <ngb-alert *ngIf="error" type="danger" dismissible="true" (close)="error = null">{{error}}</ngb-alert>

  <form [formGroup]="loginForm" (ngSubmit)="login()" novalidate>
    <div class="form-group">
      <label for="username">Nom d'utilisateur</label>
      <input id="username"
             type="text"
             class="form-control"
             formControlName="username"
             required
             [ngClass]="{'is-invalid': username.invalid && (username.dirty || username.touched)}">
    </div>

    <div class="form-group">
      <label for="password">Mot de passe</label>
      <input id="password"
             type="password"
             class="form-control"
             formControlName="password"
             required
             [ngClass]="{'is-invalid': password.invalid && (password.dirty || password.touched)}">
    </div>

    <button type="submit"
            class="btn btn-primary"
            [disabled]="loginForm.invalid || loading"
            [ngClass]="{'cursor-forbidden': loginForm.invalid || loading}">
      <fa-icon *ngIf="loading; else text" [icon]="spinnerIcon" spin="true"></fa-icon>
      <ng-template #text>Se connecter</ng-template>
    </button>
  </form>
</div>
