<div class="container m-0 p-0 text-center photo-page">
  <div class="back-button">
    <button class="btn btn-secondary" (click)="close()">
      <fa-icon [icon]="arrowLeftIcon" size="2x"></fa-icon>
    </button>
  </div>

  <div class="settings-button">
    <button *ngIf="!settingsPanelOpened" class="btn btn-secondary" (click)="settingsPanelOpened = true">
      <fa-icon [icon]="settingsIcon" size="2x"></fa-icon>
    </button>
  </div>

  <ngb-alert *ngIf="error" type="danger" dismissible="true" (close)="error = null">{{error}}</ngb-alert>

  <div *ngIf="settingsPanelOpened" class="settings-panel">
    <div class="container mt-2">
        <div class="text-right mb-2">
          <fa-icon class="clickable" [icon]="closeIcon" (click)="settingsPanelOpened = false" size="2x"></fa-icon>
        </div>

        <app-error></app-error>

        <div class="text-center">
          <h4>Rotations</h4>
          <button class="btn btn-secondary mr-2" (click)="rotateClockwise()">
            <fa-icon [icon]="rotateClockwiseIcon"></fa-icon>
          </button>
          <button class="btn btn-secondary" (click)="rotateCounterclockwise()">
            <fa-icon [icon]="rotateCounterclockwiseIcon"></fa-icon>
          </button>

          <button class="btn btn-primary mt-4" (click)="openAlbumSelectionModal()">
            <fa-icon [icon]="plusIcon"></fa-icon>
            Ajouter Ã  l'album...
          </button>

          <button class="btn btn-danger mt-4" (click)="delete()">
            <fa-icon [icon]="trashIcon"></fa-icon>
            Supprimer
          </button>
        </div>
    </div>
  </div>

  <div *ngIf="loading; else photoBlock">
    <div class="text-center">
      <fa-icon [icon]="spinnerIcon" spin="true" size="8x"></fa-icon>
    </div>
  </div>

  <ng-template #photoBlock>
    <div class="text-center">
      <img src="{{baseUrl}}{{photo.rawUri}}" style="transform: rotate({{rotationDegrees}}deg);">
    </div>
  </ng-template>
</div>
